"use strict";(globalThis["webpackChunkmhealth_proto"]=globalThis["webpackChunkmhealth_proto"]||[]).push([[45],{3045:(t,e,a)=>{a.r(e),a.d(e,{default:()=>P});var i=a(9835),s=a(6970);function n(t,e,a,n,l,o){const d=(0,i.up)("q-card-section"),r=(0,i.up)("LocalPatients"),p=(0,i.up)("q-card"),c=(0,i.up)("RegisterPatient");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,{class:"register-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"card-title"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t("register.localPatients")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i._)("p",null,(0,s.zw)(t.$t("register.selectLocal")),1),(0,i.Wm)(r,{onSelectPatient:t.selectPatient,onGeneratedPatients:t.storeGeneratedPatients,patients:t.localPatients.length>0?t.localPatients:void 0,localIdSystem:t.localIdSystem,options:{numberOfRandomPatients:10},epdPlaygroundUtils:t.$epdUtils,patientUtils:t.$patientUtils},null,8,["onSelectPatient","onGeneratedPatients","patients","localIdSystem","epdPlaygroundUtils","patientUtils"])])),_:1})])),_:1}),(0,i.Wm)(p,{class:"register-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"card-title"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t("register.registerPatient")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{patient:t.patient,localIdSystem:t.localIdSystem,onUploadedPatient:t.uploadedPatient,epdPlaygroundUtils:t.$epdUtils,patientUtils:t.$patientUtils,settings:t.$store.getSettings()},null,8,["patient","localIdSystem","onUploadedPatient","epdPlaygroundUtils","patientUtils","settings"])])),_:1})])),_:1})])}var l=a(3742);const o=(0,i.aZ)({name:"NewPatient",components:{RegisterPatient:l.AC,LocalPatients:l.Vp},data(){return{patient:{hasEpr:!1,pat:void 0},localIdSystem:{urn:"urn:oid:2.16.756.5.30.1.178.1.1",display:"Klinik HÃ¶heweg"},localPatients:[]}},methods:{selectPatient(t){this.patient=t},uploadedPatient(t){var e,a;if(this.patient&&this.patient.pat){const i=null===(e=this.patient.pat.identifier)||void 0===e?void 0:e.find((t=>t.system===this.$store.getOids().ahv));this.patient.hasEpr=!0,this.patient.pat=t,null===(a=this.patient.pat.identifier)||void 0===a||a.push(i)}else this.patient.pat=t,this.patient.hasEpr=!0,this.localPatients=[...this.localPatients,t],this.$store.setLocalPatients(this.localPatients)},storeGeneratedPatients(t){this.$store.setLocalPatients(t)}},beforeMount(){this.localPatients=this.$store.getLocalPatients()}});var d=a(1639),r=a(4458),p=a(3190),c=a(9984),u=a.n(c);const h=(0,d.Z)(o,[["render",n]]),P=h;u()(o,"components",{QCard:r.Z,QCardSection:p.Z})}}]);